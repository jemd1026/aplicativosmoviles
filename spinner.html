<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spinner en Android - GuÃ­a Completa</title>
    <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
          padding: 20px;
          line-height: 1.6;
      }

      .container {
          max-width: 1200px;
          margin: 0 auto;
          background: white;
          border-radius: 20px;
          box-shadow: 0 20px 60px rgba(0,0,0,0.3);
          overflow: hidden;
      }

      .header {
          background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%);
          color: white;
          padding: 40px;
          text-align: center;
      }

      .header h1 {
          font-size: 2.5em;
          margin-bottom: 10px;
          text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      }

      .header p {
          font-size: 1.2em;
      }

      .schedule {
          background: #f8f9fa;
          padding: 30px;
          border-bottom: 3px solid #ff6a88;
      }

      .schedule h2 {
          color: #ff6a88;
          margin-bottom: 20px;
          font-size: 1.8em;
      }

      .schedule-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 15px;
      }

      .schedule-item {
          background: white;
          padding: 20px;
          border-radius: 10px;
          border-left: 5px solid #ff6a88;
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
          transition: transform 0.3s;
      }

      .schedule-item:hover {
          transform: translateX(5px);
      }

      .schedule-item h3 {
          color: #ff6a88;
          margin-bottom: 10px;
      }

      .section {
          padding: 40px;
          margin: 0;
      }

      .section:nth-child(odd) {
          background: linear-gradient(135deg, #fff5f5 0%, #ffe4e9 100%);
      }

      .section:nth-child(even) {
          background: linear-gradient(135deg, #fff9e6 0%, #ffeeb3 100%);
      }

      .section:nth-child(3) {
          background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
      }

      .section:nth-child(4) {
          background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
      }

      .section:nth-child(5) {
          background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
      }

      .section:nth-child(6) {
          background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
      }

      .section h2 {
          font-size: 2em;
          margin-bottom: 20px;
          border-bottom: 3px solid rgba(255,106,136,0.5);
          padding-bottom: 10px;
          color: #333;
      }

      .section h3 {
          color: #444;
          margin-top: 20px;
          margin-bottom: 15px;
      }

      .theory {
          background: rgba(255,255,255,0.7);
          padding: 20px;
          border-radius: 10px;
          margin: 20px 0;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(0,0,0,0.1);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .theory h3 {
          margin-bottom: 10px;
          font-size: 1.3em;
          color: #333;
      }

      .theory h4 {
          color: #555;
          font-size: 1.2em;
          margin: 15px 0 10px 0;
      }

      .theory p, .theory li {
          color: #444;
          font-size: 1.05em;
      }

      .visual-example {
          background: rgba(0,0,0,0.05);
          padding: 20px;
          border-radius: 10px;
          margin: 15px 0;
          text-align: center;
          border: 2px dashed rgba(0,0,0,0.2);
      }

      .visual-example h4 {
          margin-bottom: 15px;
          color: #555;
      }

      .spinner-visual {
          background: white;
          padding: 15px;
          border-radius: 8px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.2);
          display: inline-block;
          margin: 10px;
      }

      .code-section {
          background: #1e1e1e;
          color: #d4d4d4;
          padding: 20px;
          border-radius: 10px;
          margin: 20px 0;
          overflow-x: auto;
      }

      .code-section h4 {
          color: #4ec9b0;
          margin-bottom: 15px;
          font-size: 1.1em;
      }

      pre {
          margin: 0;
          font-family: 'Courier New', monospace;
          font-size: 0.9em;
      }

      .kotlin {
          color: #ce9178;
      }

      .xml {
          color: #9cdcfe;
      }

      .comment {
          color: #6a9955;
      }

      .keyword {
          color: #569cd6;
      }

      .string {
          color: #ce9178;
      }

      .function {
          color: #dcdcaa;
      }

      .exercise {
          background: rgba(255,255,255,0.8);
          padding: 20px;
          border-radius: 10px;
          margin: 20px 0;
          border-left: 5px solid #ffa726;
          border: 1px solid rgba(255,167,38,0.3);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .exercise h4 {
          color: #f57c00;
          margin-bottom: 10px;
          font-size: 1.2em;
      }

      .exercise p, .exercise ul, .exercise li {
          color: #444;
          font-size: 1.05em;
      }

      .tips {
          background: rgba(255,255,255,0.8);
          padding: 15px;
          border-radius: 10px;
          margin: 15px 0;
          border-left: 5px solid #66bb6a;
          border: 1px solid rgba(102,187,106,0.3);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .tips strong {
          color: #388e3c;
      }

      .tips p, .tips li, .tips td {
          color: #444;
          font-size: 1.05em;
      }

      .note {
          background: rgba(255, 255, 255, 0.8);
          padding: 15px;
          border-radius: 8px;
          margin: 15px 0;
          border-left: 5px solid #42a5f5;
          border: 1px solid rgba(66,165,245,0.3);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .note strong {
          color: #1976d2;
      }

      .note p, .note code {
          color: #444;
          font-size: 1.05em;
      }

      .highlight {
          background: rgba(66,165,245,0.2);
          padding: 2px 6px;
          border-radius: 3px;
          font-weight: bold;
          color: #1565c0;
      }

      .comparison-table {
          width: 100%;
          margin: 20px 0;
          border-collapse: collapse;
          background: white;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      }

      .comparison-table th {
          background: #ff6a88;
          color: white;
          padding: 12px;
          text-align: left;
      }

      .comparison-table td {
          padding: 12px;
          border-bottom: 1px solid #eee;
          color: #444;
      }

      .comparison-table tr:hover {
          background: #f5f5f5;
      }

      .summary {
          background: #f8f9fa;
          padding: 40px;
      }

      .summary h2 {
          color: #ff6a88;
          font-size: 2em;
          margin-bottom: 20px;
      }

      .checklist {
          list-style: none;
          padding: 0;
      }

      .checklist li {
          padding: 15px;
          margin: 10px 0;
          background: white;
          border-radius: 10px;
          border-left: 5px solid #4ade80;
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }

      .checklist li:before {
          content: "âœ… ";
          font-size: 1.2em;
      }

      .resources {
          background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%);
          color: white;
          padding: 40px;
      }

      .resources h2 {
          font-size: 2em;
          margin-bottom: 20px;
      }

      @media (max-width: 768px) {
          .header h1 {
              font-size: 1.8em;
          }

          .schedule-grid {
              grid-template-columns: 1fr;
          }

          .section {
              padding: 20px;
          }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- HEADER -->
      <div class="header">
        <h1>ğŸ”½ Spinner en Android con Kotlin</h1>
        <p>GuÃ­a Completa de Desarrollo Android</p>
        <p>ğŸ¯ Nivel: BÃ¡sico-Intermedio</p>
      </div>

      <!-- SCHEDULE -->
      <div class="schedule">
        <h2>ğŸ“‹ Contenido del Manual</h2>
        <div class="schedule-grid">
          <div class="schedule-item">
            <h3>ğŸ“š Parte 1</h3>
            <p><strong>Fundamentos de Spinner</strong></p>
            <p>âœ… Â¿QuÃ© es y cuÃ¡ndo usar?</p>
          </div>
          <div class="schedule-item">
            <h3>ğŸ¨ Parte 2</h3>
            <p><strong>Layouts del Spinner</strong></p>
            <p>âœ… Layouts predefinidos</p>
          </div>
          <div class="schedule-item">
            <h3>ğŸ’¾ Parte 3</h3>
            <p><strong>Datos desde XML</strong></p>
            <p>âœ… Arrays.xml</p>
          </div>
          <div class="schedule-item">
            <h3>âš¡ Parte 4</h3>
            <p><strong>Eventos y Listeners</strong></p>
            <p>âœ… OnItemSelectedListener</p>
          </div>
          <div class="schedule-item">
            <h3>ğŸ”— Parte 5</h3>
            <p><strong>Spinner con ListView</strong></p>
            <p>âœ… IntegraciÃ³n y filtros</p>
          </div>
          <div class="schedule-item">
            <h3>ğŸš€ Parte 6</h3>
            <p><strong>Ejemplos Avanzados</strong></p>
            <p>âœ… Casos de uso reales</p>
          </div>
        </div>
      </div>

      <!-- PARTE 1 -->
      <div class="section">
        <h2>ğŸ“š PARTE 1: Fundamentos de Spinner</h2>

        <div class="theory">
          <h3>Â¿QuÃ© es un Spinner?</h3>

          <div style="margin-bottom: 20px;">
            <h4>ğŸ”½ DefiniciÃ³n</h4>
            <p style="font-size: 1.1em; line-height: 1.8;">
              Un <strong>Spinner</strong> es un componente de Android que proporciona una forma rÃ¡pida de seleccionar un valor de un conjunto. Es similar a un <strong>dropdown list</strong> o lista
              desplegable en aplicaciones web. Muestra un item seleccionado y al hacer clic, despliega una lista de opciones disponibles.
            </p>
          </div>

          <div class="visual-example">
            <h4>ğŸ“± Apariencia Visual</h4>
            <div style="margin: 20px 0;">
              <div class="spinner-visual" style="width: 250px;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                  <span style="color: #333;">ğŸ‡µğŸ‡ª PerÃº</span>
                  <span style="color: #666;">â–¼</span>
                </div>
                <div style="text-align: center; margin-top: 5px; color: #888; font-size: 0.9em;">Estado cerrado</div>
              </div>
            </div>

            <div style="margin: 20px 0;">
              <div class="spinner-visual" style="width: 250px;">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border: 1px solid #ff6a88; border-radius: 5px; background: #fff5f5;">
                  <span style="color: #333; font-weight: bold;">ğŸ‡µğŸ‡ª PerÃº</span>
                  <span style="color: #ff6a88;">â–²</span>
                </div>
                <div style="border: 1px solid #ddd; border-top: none; border-radius: 0 0 5px 5px; background: white;">
                  <div style="padding: 10px; border-bottom: 1px solid #eee;">ğŸ‡¨ğŸ‡´ Colombia</div>
                  <div style="padding: 10px; border-bottom: 1px solid #eee;">ğŸ‡¦ğŸ‡· Argentina</div>
                  <div style="padding: 10px; border-bottom: 1px solid #eee;">ğŸ‡¨ğŸ‡± Chile</div>
                  <div style="padding: 10px;">ğŸ‡²ğŸ‡½ MÃ©xico</div>
                </div>
                <div style="text-align: center; margin-top: 5px; color: #888; font-size: 0.9em;">Estado desplegado</div>
              </div>
            </div>
          </div>

          <div style="margin-bottom: 20px;">
            <h4>âœ… Â¿CuÃ¡ndo usar un Spinner?</h4>
            <ul style="margin-top: 10px;">
              <li>ğŸ“‹ Formularios de registro (paÃ­s, ciudad, gÃ©nero)</li>
              <li>âš™ï¸ Configuraciones de la aplicaciÃ³n (tema, idioma)</li>
              <li>ğŸ¯ Filtros de bÃºsqueda (categorÃ­as, ordenamiento)</li>
              <li>ğŸ“… SelecciÃ³n de fechas predefinidas (mes, aÃ±o)</li>
              <li>ğŸ’± Conversores (monedas, unidades)</li>
            </ul>
          </div>

          <div style="margin-bottom: 20px;">
            <h4>âŒ Â¿CuÃ¡ndo NO usar un Spinner?</h4>
            <ul style="margin-top: 10px;">
              <li>ğŸ”¢ MÃ¡s de 20-30 opciones (mejor usar ListView con bÃºsqueda)</li>
              <li>ğŸ“Š Necesitas mostrar mÃºltiples datos por item</li>
              <li>âœ… SelecciÃ³n mÃºltiple (usa CheckBox)</li>
              <li>ğŸ”˜ Solo 2-3 opciones (usa RadioButton)</li>
            </ul>
          </div>

          <div>
            <h4>ğŸ§© Componentes del Spinner</h4>
            <div style="background: rgba(0,0,0,0.05); padding: 15px; border-radius: 8px; margin-top: 10px;">
              <p style="margin-bottom: 10px;"><strong style="color: #555;">1. Spinner:</strong> El componente visual principal</p>
              <p style="margin-bottom: 10px;"><strong style="color: #555;">2. Adapter:</strong> Conecta los datos con el Spinner</p>
              <p style="margin-bottom: 10px;"><strong style="color: #555;">3. Item seleccionado:</strong> Vista cuando estÃ¡ cerrado (simple_spinner_item)</p>
              <p><strong style="color: #555;">4. Lista desplegable:</strong> Vista cuando estÃ¡ abierto (simple_spinner_dropdown_item)</p>
            </div>
          </div>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ Diferencia clave: Spinner vs ListView</strong>
          <table class="comparison-table" style="margin-top: 10px;">
            <tr>
              <th>CaracterÃ­stica</th>
              <th>Spinner</th>
              <th>ListView</th>
            </tr>
            <tr>
              <td><strong>Items visibles</strong></td>
              <td>1 (seleccionado)</td>
              <td>MÃºltiples</td>
            </tr>
            <tr>
              <td><strong>Espacio en UI</strong></td>
              <td>Muy pequeÃ±o</td>
              <td>Grande</td>
            </tr>
            <tr>
              <td><strong>Uso principal</strong></td>
              <td>SelecciÃ³n Ãºnica</td>
              <td>Ver lista completa</td>
            </tr>
            <tr>
              <td><strong>Scrollable</strong></td>
              <td>Solo al desplegar</td>
              <td>Siempre</td>
            </tr>
          </table>
        </div>
      </div>

      <!-- PARTE 2 -->
      <div class="section">
        <h2>ğŸ¨ PARTE 2: Primer Spinner</h2>

        <div class="theory">
          <h3>ğŸ“š TeorÃ­a: Layouts del Spinner</h3>
          <p>Android proporciona 2 layouts especÃ­ficos para Spinner:</p>

          <div style="margin: 15px 0;">
            <h4>1ï¸âƒ£ android.R.layout.simple_spinner_item</h4>
            <p><strong>Uso:</strong> Layout del item SELECCIONADO (cuando el Spinner estÃ¡ cerrado)</p>
            <p><strong>CaracterÃ­sticas:</strong></p>
            <ul>
              <li>TextView simple y compacto</li>
              <li>Ocupa poco espacio vertical</li>
              <li>Sin padding extra</li>
            </ul>
          </div>

          <div style="margin: 15px 0;">
            <h4>2ï¸âƒ£ android.R.layout.simple_spinner_dropdown_item</h4>
            <p><strong>Uso:</strong> Layout de los items en la LISTA DESPLEGABLE (cuando estÃ¡ abierto)</p>
            <p><strong>CaracterÃ­sticas:</strong></p>
            <ul>
              <li>TextView con mÃ¡s padding</li>
              <li>Fondo con efecto seleccionable</li>
              <li>Optimizado para touch</li>
              <li>Mejor separaciÃ³n visual</li>
            </ul>
          </div>
        </div>

        <h3>ğŸ’» PrÃ¡ctica 1: Tu Primer Spinner</h3>

        <div class="code-section">
          <h4>ğŸ“„ activity_main.xml</h4>
          <pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Mi Primer Spinner"
        android:textSize="20sp"
        android:textStyle="bold"
        android:layout_marginBottom="16dp"/&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Selecciona una fruta:"
        android:textSize="16sp"
        android:layout_marginBottom="8dp"/&gt;

    &lt;Spinner
        android:id="@+id/spinner"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="12dp"/&gt;

    &lt;TextView
        android:id="@+id/tvSeleccion"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="SelecciÃ³n: Ninguna"
        android:textSize="16sp"
        android:layout_marginTop="24dp"
        android:textColor="#ff6a88"
        android:textStyle="bold"/&gt;

&lt;/LinearLayout&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt</h4>
          <pre><code class="kotlin"><span class="keyword">package</span> com.example.ucv_b

<span class="keyword">import</span> android.os.Bundle
<span class="keyword">import</span> android.widget.ArrayAdapter
<span class="keyword">import</span> android.widget.Spinner
<span class="keyword">import</span> android.widget.TextView
<span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity

<span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="comment">// 1. Referenciar el Spinner</span>
        <span class="keyword">val</span> spinner = findViewById&lt;Spinner&gt;(R.id.spinner)
        <span class="keyword">val</span> tvSeleccion: TextView = findViewById(R.id.tvSeleccion)
        
        <span class="comment">// 2. Datos hardcoded</span>
        <span class="keyword">val</span> frutas = arrayOf(
            <span class="string">"ğŸ Manzana"</span>,
            <span class="string">"ğŸŒ PlÃ¡tano"</span>,
            <span class="string">"ğŸŠ Naranja"</span>,
            <span class="string">"ğŸ‡ Uva"</span>,
            <span class="string">"ğŸ‰ SandÃ­a"</span>
        )
        
        <span class="comment">// 3. Crear adapter</span>
        <span class="keyword">val</span> adapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,  <span class="comment">// Item seleccionado</span>
            frutas
        )
        
        <span class="comment">// 4. â­ Configurar layout del dropdown</span>
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        
        <span class="comment">// 5. Conectar adapter con Spinner</span>
        spinner.adapter = adapter
        
        <span class="comment">// 6. â­ Agregar listener para eventos</span>
        spinner.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(parent: AdapterView&lt;*&gt;, view: View?, position: Int, id: Long) {
                <span class="keyword">val</span> frutaSeleccionada = parent.getItemAtPosition(position).toString()
                tvSeleccion.text = <span class="string">"SelecciÃ³n: $frutaSeleccionada"</span>
            }

            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;) {
                tvSeleccion.text = <span class="string">"SelecciÃ³n: Ninguna"</span>
            }
        }
    }
}</code></pre>
        </div>

        <div class="note">
          <strong>ğŸ“ Nota importante:</strong>
          <p>La lÃ­nea <code class="highlight">setDropDownViewResource()</code> es OBLIGATORIA para configurar cÃ³mo se verÃ¡n los items cuando el Spinner se despliegue.</p>
        </div>

        <div class="exercise">
          <h4>âœï¸ Ejercicio RÃ¡pido</h4>
          <p>Modifica el cÃ³digo para mostrar un Spinner con <strong>paÃ­ses de SudamÃ©rica</strong></p>
          <p>Ejemplo: "ğŸ‡µğŸ‡ª PerÃº", "ğŸ‡¨ğŸ‡´ Colombia", "ğŸ‡¦ğŸ‡· Argentina", "ğŸ‡¨ğŸ‡± Chile"</p>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ Pasos para crear un Spinner:</strong>
          <ol style="margin-top: 10px;">
            <li>Agregar <code>&lt;Spinner&gt;</code> al XML</li>
            <li>Crear array de datos</li>
            <li>Crear ArrayAdapter con <code>simple_spinner_item</code></li>
            <li>Configurar <code>setDropDownViewResource()</code></li>
            <li>Asignar adapter al Spinner</li>
          </ol>
        </div>
      </div>

      <!-- PARTE 3 -->
      <div class="section">
        <h2>ğŸ’¾ PARTE 3: Datos desde Resources XML</h2>

        <div class="theory">
          <h3>ğŸ“š Ventajas de usar arrays.xml</h3>
          <ul>
            <li>âœ… SeparaciÃ³n de datos y lÃ³gica</li>
            <li>âœ… FÃ¡cil mantenimiento</li>
            <li>âœ… Soporte multiidioma</li>
            <li>âœ… ReutilizaciÃ³n en mÃºltiples Activities</li>
          </ul>
        </div>

        <h3>ğŸ’» PrÃ¡ctica 2: Spinner con arrays.xml</h3>

        <div class="note"><strong>ğŸ“ Crear archivo:</strong> <span class="highlight">res/values/arrays.xml</span></div>

        <div class="code-section">
          <h4>ğŸ“„ res/values/arrays.xml</h4>
          <pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    <span class="comment">&lt;!-- Lista de PaÃ­ses --&gt;</span>
    &lt;string-array name="lista_paises"&gt;
        &lt;item&gt;ğŸ‡µğŸ‡ª PerÃº&lt;/item&gt;
        &lt;item&gt;ğŸ‡¨ğŸ‡´ Colombia&lt;/item&gt;
        &lt;item&gt;ğŸ‡¦ğŸ‡· Argentina&lt;/item&gt;
        &lt;item&gt;ğŸ‡¨ğŸ‡± Chile&lt;/item&gt;
        &lt;item&gt;ğŸ‡²ğŸ‡½ MÃ©xico&lt;/item&gt;
        &lt;item&gt;ğŸ‡§ğŸ‡· Brasil&lt;/item&gt;
    &lt;/string-array&gt;
    
    <span class="comment">&lt;!-- Lista de Idiomas --&gt;</span>
    &lt;string-array name="lista_idiomas"&gt;
        &lt;item&gt;ğŸ‡ªğŸ‡¸ EspaÃ±ol&lt;/item&gt;
        &lt;item&gt;ğŸ‡¬ğŸ‡§ English&lt;/item&gt;
        &lt;item&gt;ğŸ‡§ğŸ‡· PortuguÃªs&lt;/item&gt;
        &lt;item&gt;ğŸ‡«ğŸ‡· FranÃ§ais&lt;/item&gt;
        &lt;item&gt;ğŸ‡©ğŸ‡ª Deutsch&lt;/item&gt;
    &lt;/string-array&gt;
    
    <span class="comment">&lt;!-- Lista de Temas --&gt;</span>
    &lt;string-array name="lista_temas"&gt;
        &lt;item&gt;ğŸŒ Tema Claro&lt;/item&gt;
        &lt;item&gt;ğŸŒ™ Tema Oscuro&lt;/item&gt;
        &lt;item&gt;âš™ï¸ AutomÃ¡tico&lt;/item&gt;
    &lt;/string-array&gt;
    
    <span class="comment">&lt;!-- Lista de Meses --&gt;</span>
    &lt;string-array name="lista_meses"&gt;
        &lt;item&gt;Enero&lt;/item&gt;
        &lt;item&gt;Febrero&lt;/item&gt;
        &lt;item&gt;Marzo&lt;/item&gt;
        &lt;item&gt;Abril&lt;/item&gt;
        &lt;item&gt;Mayo&lt;/item&gt;
        &lt;item&gt;Junio&lt;/item&gt;
        &lt;item&gt;Julio&lt;/item&gt;
        &lt;item&gt;Agosto&lt;/item&gt;
        &lt;item&gt;Septiembre&lt;/item&gt;
        &lt;item&gt;Octubre&lt;/item&gt;
        &lt;item&gt;Noviembre&lt;/item&gt;
        &lt;item&gt;Diciembre&lt;/item&gt;
    &lt;/string-array&gt;
&lt;/resources&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt (Con XML)</h4>
          <pre><code class="kotlin"><span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="keyword">val</span> spinner = findViewById&lt;Spinner&gt;(R.id.spinner)
        
        <span class="comment">// â­ Cargar datos desde arrays.xml</span>
        <span class="keyword">val</span> paises = resources.getStringArray(R.array.lista_paises)
        
        <span class="keyword">val</span> adapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,
            paises
        )
        
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        spinner.adapter = adapter
    }
}</code></pre>
        </div>

        <div class="exercise">
          <h4>âœï¸ Ejercicio</h4>
          <p><strong>Crear formulario de registro con 3 Spinners:</strong></p>
          <ul>
            <li>Spinner 1: PaÃ­s de nacimiento</li>
            <li>Spinner 2: GÃ©nero (Masculino, Femenino, Otro, Prefiero no decir)</li>
            <li>Spinner 3: Mes de nacimiento</li>
          </ul>
        </div>
      </div>

      <!-- PARTE 4 -->
      <div class="section">
        <h2>âš¡ PARTE 4: Eventos - OnItemSelectedListener</h2>

        <div class="theory">
          <h3>ğŸ“š TeorÃ­a: OnItemSelectedListener</h3>
          <p><strong>Listener especÃ­fico para Spinner</strong> que se activa cuando el usuario selecciona un item.</p>

          <div style="margin-top: 15px;">
            <h4>MÃ©todos principales:</h4>
            <ul>
              <li><code>onItemSelected()</code> â†’ Se ejecuta cuando se selecciona un item</li>
              <li><code>onNothingSelected()</code> â†’ Se ejecuta cuando no hay selecciÃ³n</li>
            </ul>
          </div>

          <div style="margin-top: 15px;">
            <h4>ParÃ¡metros de onItemSelected:</h4>
            <ul>
              <li><code>parent</code> â†’ El Spinner (AdapterView)</li>
              <li><code>view</code> â†’ La vista del item seleccionado</li>
              <li><code>position</code> â†’ PosiciÃ³n (0, 1, 2...)</li>
              <li><code>id</code> â†’ ID del item</li>
            </ul>
          </div>
        </div>

        <h3>ğŸ’» PrÃ¡ctica 3: Spinner con Eventos</h3>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt (Con Listener)</h4>
          <pre><code class="kotlin"><span class="keyword">import</span> android.view.View
<span class="keyword">import</span> android.widget.AdapterView
<span class="keyword">import</span> android.widget.Toast

<span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="keyword">val</span> spinner = findViewById&lt;Spinner&gt;(R.id.spinner)
        <span class="keyword">val</span> tvSeleccion = findViewById&lt;TextView&gt;(R.id.tvSeleccion)
        
        <span class="keyword">val</span> paises = resources.getStringArray(R.array.lista_paises)
        
        <span class="keyword">val</span> adapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,
            paises
        )
        
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        spinner.adapter = adapter
        
        <span class="comment">// â­ Agregar listener</span>
        spinner.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                <span class="keyword">val</span> paisSeleccionado = paises[position]
                tvSeleccion.text = <span class="string">"SelecciÃ³n: $paisSeleccionado"</span>
                
                Toast.makeText(
                    <span class="keyword">this@MainActivity</span>,
                    <span class="string">"Seleccionaste: $paisSeleccionado"</span>,
                    Toast.LENGTH_SHORT
                ).show()
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                tvSeleccion.text = <span class="string">"SelecciÃ³n: Ninguna"</span>
            }
        }
    }
}</code></pre>
        </div>

        <div class="note">
          <strong>ğŸ“ Obtener el item seleccionado:</strong>
          <pre style="margin-top: 10px;"><code>// OpciÃ³n 1: Desde el array original
val item = paises[position]

// OpciÃ³n 2: Desde el parent
val item = parent?.getItemAtPosition(position) as String

// OpciÃ³n 3: Desde el adapter
val item = adapter.getItem(position)</code></pre>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ Tip importante:</strong>
          <p style="margin-top: 10px;">
            El evento <code>onItemSelected()</code> se dispara automÃ¡ticamente cuando se carga el Spinner por primera vez (selecciÃ³n del primer item). Si no quieres este comportamiento, usa un flag:
          </p>
          <pre style="margin-top: 10px;"><code>var primeraCarga = true

spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {
    override fun onItemSelected(...) {
        if (primeraCarga) {
            primeraCarga = false
            return
        }
        // Tu cÃ³digo aquÃ­
    }
    ...
}</code></pre>
        </div>

        <div class="exercise">
          <h4>âœï¸ Ejercicio</h4>
          <p><strong>Conversor de Monedas:</strong></p>
          <ul>
            <li>Spinner 1: Moneda origen (Soles, DÃ³lares, Euros)</li>
            <li>EditText: Cantidad a convertir</li>
            <li>Spinner 2: Moneda destino</li>
            <li>TextView: Resultado de la conversiÃ³n</li>
          </ul>
        </div>
      </div>

      <!-- PARTE 5 -->
      <div class="section">
        <h2>ğŸ”— PARTE 5: Spinner con ListView</h2>

        <div class="theory">
          <h3>ğŸ“š Caso de uso: Filtrar ListView con Spinner</h3>
          <p>Uno de los usos mÃ¡s comunes del Spinner es filtrar el contenido de un ListView segÃºn la categorÃ­a seleccionada.</p>
        </div>

        <h3>ğŸ’» PrÃ¡ctica 4: Filtrar ListView con Spinner</h3>

        <div class="code-section">
          <h4>ğŸ“„ arrays.xml (Agregar)</h4>
          <pre><code class="xml"><span class="comment">&lt;!-- CategorÃ­as --&gt;</span>
&lt;string-array name="categorias"&gt;
    &lt;item&gt;Todos&lt;/item&gt;
    &lt;item&gt;Frutas&lt;/item&gt;
    &lt;item&gt;Verduras&lt;/item&gt;
    &lt;item&gt;Carnes&lt;/item&gt;
&lt;/string-array&gt;

<span class="comment">&lt;!-- Productos --&gt;</span>
&lt;string-array name="productos_frutas"&gt;
    &lt;item&gt;ğŸ Manzana&lt;/item&gt;
    &lt;item&gt;ğŸŒ PlÃ¡tano&lt;/item&gt;
    &lt;item&gt;ğŸŠ Naranja&lt;/item&gt;
&lt;/string-array&gt;

&lt;string-array name="productos_verduras"&gt;
    &lt;item&gt;ğŸ¥• Zanahoria&lt;/item&gt;
    &lt;item&gt;ğŸ¥¬ Lechuga&lt;/item&gt;
    &lt;item&gt;ğŸ… Tomate&lt;/item&gt;
&lt;/string-array&gt;

&lt;string-array name="productos_carnes"&gt;
    &lt;item&gt;ğŸ¥© Res&lt;/item&gt;
    &lt;item&gt;ğŸ— Pollo&lt;/item&gt;
    &lt;item&gt;ğŸŸ Pescado&lt;/item&gt;
&lt;/string-array&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“„ activity_main.xml</h4>
          <pre><code class="xml">&lt;LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="CategorÃ­a:"
        android:textSize="16sp"
        android:layout_marginBottom="8dp"/&gt;

    &lt;Spinner
        android:id="@+id/spinnerCategoria"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="16dp"/&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Productos:"
        android:textSize="16sp"
        android:layout_marginBottom="8dp"/&gt;

    &lt;ListView
        android:id="@+id/listView"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/&gt;

&lt;/LinearLayout&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt (Completo)</h4>
          <pre><code class="kotlin"><span class="keyword">package</span> com.example.ucv_b

<span class="keyword">import</span> android.os.Bundle
<span class="keyword">import</span> android.view.View
<span class="keyword">import</span> android.widget.AdapterView
<span class="keyword">import</span> android.widget.ArrayAdapter
<span class="keyword">import</span> android.widget.ListView
<span class="keyword">import</span> android.widget.Spinner
<span class="keyword">import</span> android.widget.Toast
<span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity

<span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">private lateinit var</span> spinnerCategoria: Spinner
    <span class="keyword">private lateinit var</span> listView: ListView
    <span class="keyword">private lateinit var</span> listAdapter: ArrayAdapter&lt;String&gt;
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="comment">// 1. Referenciar las vistas</span>
        spinnerCategoria = findViewById(R.id.spinnerCategoria)
        listView = findViewById(R.id.listView)
        
        <span class="comment">// 2. Configurar Spinner de CategorÃ­as</span>
        <span class="keyword">val</span> categorias = resources.getStringArray(R.array.categorias)
        <span class="keyword">val</span> spinnerAdapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,
            categorias
        )
        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        spinnerCategoria.adapter = spinnerAdapter
        
        <span class="comment">// 3. â­ Listener para filtrar ListView segÃºn categorÃ­a</span>
        spinnerCategoria.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                actualizarListView(position)
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                <span class="comment">// Limpiar ListView si no hay selecciÃ³n</span>
                listView.adapter = <span class="keyword">null</span>
            }
        }
        
        <span class="comment">// 4. â­ Listener de click en items del ListView</span>
        listView.setOnItemClickListener { parent, view, position, id ->
            <span class="keyword">val</span> productoSeleccionado = parent.getItemAtPosition(position).toString()
            <span class="keyword">val</span> categoriaActual = categorias[spinnerCategoria.selectedItemPosition]
            
            Toast.makeText(
                <span class="keyword">this</span>,
                <span class="string">"Seleccionaste: $productoSeleccionado\nCategorÃ­a: $categoriaActual"</span>,
                Toast.LENGTH_SHORT
            ).show()
        }
    }
    
    <span class="comment">// 5. â­ FunciÃ³n para actualizar el ListView segÃºn la categorÃ­a</span>
    <span class="keyword">private fun</span> <span class="function">actualizarListView</span>(categoria: Int) {
        <span class="keyword">val</span> productos = <span class="keyword">when</span> (categoria) {
            0 -> { <span class="comment">// Todos los productos</span>
                <span class="keyword">val</span> frutas = resources.getStringArray(R.array.productos_frutas)
                <span class="keyword">val</span> verduras = resources.getStringArray(R.array.productos_verduras)
                <span class="keyword">val</span> carnes = resources.getStringArray(R.array.productos_carnes)
                frutas + verduras + carnes
            }
            1 -> resources.getStringArray(R.array.productos_frutas)  <span class="comment">// Solo Frutas</span>
            2 -> resources.getStringArray(R.array.productos_verduras)  <span class="comment">// Solo Verduras</span>
            3 -> resources.getStringArray(R.array.productos_carnes)  <span class="comment">// Solo Carnes</span>
            <span class="keyword">else</span> -> emptyArray()
        }
        
        <span class="comment">// Crear y asignar nuevo adapter al ListView</span>
        listAdapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_list_item_1,
            productos
        )
        listView.adapter = listAdapter
    }
}</code></pre>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ Puntos clave del cÃ³digo:</strong>
          <ul style="margin-top: 10px;">
            <li><strong>actualizarListView():</strong> FunciÃ³n separada para organizar mejor el cÃ³digo</li>
            <li><strong>when (categoria):</strong> Selecciona quÃ© array cargar segÃºn la posiciÃ³n del Spinner</li>
            <li><strong>frutas + verduras + carnes:</strong> Concatena arrays para la opciÃ³n "Todos"</li>
            <li><strong>setOnItemClickListener:</strong> Maneja clicks en items del ListView</li>
            <li><strong>lateinit var:</strong> Variables que se inicializan en onCreate()</li>
          </ul>
        </div>

        <div class="note">
          <strong>ğŸ¯ Flujo de la aplicaciÃ³n:</strong>
          <ol style="margin-top: 10px;">
            <li>Usuario selecciona categorÃ­a en el Spinner</li>
            <li>Se ejecuta onItemSelected() â†’ llama a actualizarListView()</li>
            <li>Se cargan los productos correspondientes segÃºn la categorÃ­a</li>
            <li>Se actualiza el ListView con los nuevos productos</li>
            <li>Usuario hace click en un producto â†’ Muestra Toast con informaciÃ³n</li>
          </ol>
        </div>

        <div class="exercise">
          <h4>âœï¸ Ejercicio Avanzado</h4>
          <p><strong>App de Biblioteca:</strong></p>
          <ul>
            <li>Spinner: CategorÃ­as de libros (FicciÃ³n, No FicciÃ³n, Ciencia, Historia)</li>
            <li>ListView: Libros de la categorÃ­a seleccionada</li>
            <li>Click en libro: Mostrar detalles en AlertDialog</li>
          </ul>
        </div>
      </div>

      <!-- PARTE 6 -->
      <div class="section">
        <h2>ğŸš€ PARTE 6: Ejemplos Avanzados</h2>

        <h3>ğŸ’» Ejemplo Completo: MÃºltiples Spinners Dependientes</h3>

        <div class="theory">
          <h3>ğŸ“š Caso de uso real: Selector PaÃ­s â†’ Ciudades</h3>
          <p>
            Este ejemplo muestra cÃ³mo crear spinners dependientes donde la selecciÃ³n del primer Spinner (PaÃ­s) determina las opciones del segundo Spinner (Ciudad). Es un patrÃ³n muy comÃºn en
            formularios de registro.
          </p>
        </div>

        <div class="code-section">
          <h4>ğŸ“„ activity_main.xml</h4>
          <pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:padding="16dp"&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Spinners Dependientes"
        android:textSize="20sp"
        android:textStyle="bold"
        android:layout_marginBottom="24dp"/&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Selecciona tu paÃ­s:"
        android:textSize="16sp"
        android:layout_marginBottom="8dp"/&gt;

    &lt;Spinner
        android:id="@+id/spinnerPais"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="12dp"
        android:layout_marginBottom="16dp"/&gt;

    &lt;TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Selecciona tu ciudad:"
        android:textSize="16sp"
        android:layout_marginBottom="8dp"/&gt;

    &lt;Spinner
        android:id="@+id/spinnerCiudad"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="12dp"
        android:layout_marginBottom="24dp"/&gt;

    &lt;TextView
        android:id="@+id/tvUbicacion"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="UbicaciÃ³n: -"
        android:textSize="16sp"
        android:textColor="#ff6a88"
        android:textStyle="bold"/&gt;

&lt;/LinearLayout&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“„ res/values/arrays.xml</h4>
          <pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    <span class="comment">&lt;!-- Lista de PaÃ­ses --&gt;</span>
    &lt;string-array name="paises"&gt;
        &lt;item&gt;ğŸ‡µğŸ‡ª PerÃº&lt;/item&gt;
        &lt;item&gt;ğŸ‡¨ğŸ‡´ Colombia&lt;/item&gt;
    &lt;/string-array&gt;

    <span class="comment">&lt;!-- Ciudades de PerÃº --&gt;</span>
    &lt;string-array name="ciudades_peru"&gt;
        &lt;item&gt;Lima&lt;/item&gt;
        &lt;item&gt;Arequipa&lt;/item&gt;
        &lt;item&gt;Cusco&lt;/item&gt;
        &lt;item&gt;Trujillo&lt;/item&gt;
        &lt;item&gt;Chiclayo&lt;/item&gt;
    &lt;/string-array&gt;

    <span class="comment">&lt;!-- Ciudades de Colombia --&gt;</span>
    &lt;string-array name="ciudades_colombia"&gt;
        &lt;item&gt;BogotÃ¡&lt;/item&gt;
        &lt;item&gt;MedellÃ­n&lt;/item&gt;
        &lt;item&gt;Cali&lt;/item&gt;
        &lt;item&gt;Barranquilla&lt;/item&gt;
        &lt;item&gt;Cartagena&lt;/item&gt;
    &lt;/string-array&gt;
&lt;/resources&gt;</code></pre>
        </div>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt (Completo)</h4>
          <pre><code class="kotlin"><span class="keyword">package</span> com.example.ucv_b

<span class="keyword">import</span> android.os.Bundle
<span class="keyword">import</span> android.view.View
<span class="keyword">import</span> android.widget.AdapterView
<span class="keyword">import</span> android.widget.ArrayAdapter
<span class="keyword">import</span> android.widget.Spinner
<span class="keyword">import</span> android.widget.TextView
<span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity

<span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">private lateinit var</span> spinnerPais: Spinner
    <span class="keyword">private lateinit var</span> spinnerCiudad: Spinner
    <span class="keyword">private lateinit var</span> tvUbicacion: TextView
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="comment">// 1. Referenciar las vistas</span>
        spinnerPais = findViewById(R.id.spinnerPais)
        spinnerCiudad = findViewById(R.id.spinnerCiudad)
        tvUbicacion = findViewById(R.id.tvUbicacion)
        
        <span class="comment">// 2. Configurar Spinner de PaÃ­ses</span>
        <span class="keyword">val</span> paises = resources.getStringArray(R.array.paises)
        <span class="keyword">val</span> paisAdapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,
            paises
        )
        paisAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        spinnerPais.adapter = paisAdapter
        
        <span class="comment">// 3. â­ Listener del Spinner de PaÃ­ses (Actualiza ciudades)</span>
        spinnerPais.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                <span class="comment">// Cargar ciudades segÃºn el paÃ­s seleccionado</span>
                <span class="keyword">val</span> ciudades = <span class="keyword">when</span> (position) {
                    0 -> resources.getStringArray(R.array.ciudades_peru)
                    1 -> resources.getStringArray(R.array.ciudades_colombia)
                    <span class="keyword">else</span> -> emptyArray()
                }
                
                <span class="comment">// Actualizar el Spinner de Ciudades</span>
                <span class="keyword">val</span> ciudadAdapter = ArrayAdapter(
                    <span class="keyword">this@MainActivity</span>,
                    android.R.layout.simple_spinner_item,
                    ciudades
                )
                ciudadAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
                spinnerCiudad.adapter = ciudadAdapter
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: -"</span>
            }
        }
        
        <span class="comment">// 4. â­ Listener del Spinner de Ciudades (Muestra ubicaciÃ³n completa)</span>
        spinnerCiudad.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                <span class="keyword">val</span> paisSeleccionado = spinnerPais.selectedItem.toString()
                <span class="keyword">val</span> ciudadSeleccionada = parent?.getItemAtPosition(position).toString()
                
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: $ciudadSeleccionada, $paisSeleccionado"</span>
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                <span class="keyword">val</span> paisSeleccionado = spinnerPais.selectedItem.toString()
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: $paisSeleccionado"</span>
            }
        }
    }
}</code></pre>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ Puntos clave del cÃ³digo:</strong>
          <ul style="margin-top: 10px;">
            <li><strong>lateinit var:</strong> Variables que se inicializan despuÃ©s en onCreate()</li>
            <li><strong>when (position):</strong> Estructura similar a switch para cargar ciudades segÃºn paÃ­s</li>
            <li><strong>this@MainActivity:</strong> Referencia al contexto de la Activity dentro del listener</li>
            <li><strong>selectedItem:</strong> Obtiene el item actualmente seleccionado en el Spinner</li>
            <li><strong>Cascada de eventos:</strong> Cambiar paÃ­s â†’ Actualiza ciudades â†’ Actualiza TextView</li>
          </ul>
        </div>

        <div class="note">
          <strong>âš ï¸ Nota importante sobre el primer evento:</strong>
          <p style="margin-top: 10px;">
            Cuando se carga la Activity, <code>onItemSelected()</code> se ejecuta automÃ¡ticamente en ambos Spinners con la posiciÃ³n 0. Esto puede causar que el TextView se actualice dos veces al
            inicio. Es un comportamiento normal de Android.
          </p>
        </div>

        <h3 style="margin-top: 40px;">ğŸ’» Ejemplo 2: PaÃ­ses y Ciudades con SharedPreferences</h3>

        <div class="theory">
          <h3>ğŸ“š Persistencia de datos</h3>
          <p>
            Extendemos el ejemplo anterior agregando SharedPreferences para <strong>guardar y recordar</strong> la ubicaciÃ³n seleccionada (paÃ­s y ciudad) del usuario. Al cerrar y volver a abrir la
            app, los Spinners mostrarÃ¡n la Ãºltima selecciÃ³n guardada.
          </p>
        </div>

        <div class="code-section">
          <h4>ğŸ“± MainActivity.kt (Con SharedPreferences)</h4>
          <pre><code class="kotlin"><span class="keyword">package</span> com.example.ucv_b

<span class="keyword">import</span> android.os.Bundle
<span class="keyword">import</span> android.view.View
<span class="keyword">import</span> android.widget.AdapterView
<span class="keyword">import</span> android.widget.ArrayAdapter
<span class="keyword">import</span> android.widget.Spinner
<span class="keyword">import</span> android.widget.TextView
<span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity

<span class="keyword">class</span> <span class="function">MainActivity</span> : AppCompatActivity() {
    
    <span class="keyword">private lateinit var</span> spinnerPais: Spinner
    <span class="keyword">private lateinit var</span> spinnerCiudad: Spinner
    <span class="keyword">private lateinit var</span> tvUbicacion: TextView
    <span class="keyword">private var</span> isFirstLoad = <span class="keyword">true</span>  <span class="comment">// Evitar guardar en la carga inicial</span>
    
    <span class="keyword">override fun</span> <span class="function">onCreate</span>(savedInstanceState: Bundle?) {
        <span class="keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="comment">// 1. Referenciar las vistas</span>
        spinnerPais = findViewById(R.id.spinnerPais)
        spinnerCiudad = findViewById(R.id.spinnerCiudad)
        tvUbicacion = findViewById(R.id.tvUbicacion)
        
        <span class="comment">// 2. â­ Obtener SharedPreferences</span>
        <span class="keyword">val</span> prefs = getSharedPreferences(<span class="string">"UbicacionPrefs"</span>, MODE_PRIVATE)
        
        <span class="comment">// 3. Configurar Spinner de PaÃ­ses</span>
        <span class="keyword">val</span> paises = resources.getStringArray(R.array.paises)
        <span class="keyword">val</span> paisAdapter = ArrayAdapter(
            <span class="keyword">this</span>,
            android.R.layout.simple_spinner_item,
            paises
        )
        paisAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
        spinnerPais.adapter = paisAdapter
        
        <span class="comment">// 4. â­ Cargar paÃ­s guardado</span>
        <span class="keyword">val</span> paisGuardado = prefs.getInt(<span class="string">"pais_seleccionado"</span>, 0)
        spinnerPais.setSelection(paisGuardado)
        
        <span class="comment">// 5. Listener del Spinner de PaÃ­ses</span>
        spinnerPais.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                <span class="comment">// Cargar ciudades segÃºn el paÃ­s</span>
                <span class="keyword">val</span> ciudades = <span class="keyword">when</span> (position) {
                    0 -> resources.getStringArray(R.array.ciudades_peru)
                    1 -> resources.getStringArray(R.array.ciudades_colombia)
                    <span class="keyword">else</span> -> emptyArray()
                }
                
                <span class="comment">// Actualizar Spinner de Ciudades</span>
                <span class="keyword">val</span> ciudadAdapter = ArrayAdapter(
                    <span class="keyword">this@MainActivity</span>,
                    android.R.layout.simple_spinner_item,
                    ciudades
                )
                ciudadAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
                spinnerCiudad.adapter = ciudadAdapter
                
                <span class="comment">// â­ Cargar ciudad guardada (solo en primera carga)</span>
                <span class="keyword">if</span> (isFirstLoad) {
                    <span class="keyword">val</span> ciudadGuardada = prefs.getInt(<span class="string">"ciudad_seleccionada"</span>, 0)
                    spinnerCiudad.setSelection(ciudadGuardada)
                    isFirstLoad = <span class="keyword">false</span>
                }
                
                <span class="comment">// â­ Guardar paÃ­s seleccionado</span>
                prefs.edit().putInt(<span class="string">"pais_seleccionado"</span>, position).apply()
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: -"</span>
            }
        }
        
        <span class="comment">// 6. Listener del Spinner de Ciudades</span>
        spinnerCiudad.onItemSelectedListener = <span class="keyword">object</span> : AdapterView.OnItemSelectedListener {
            <span class="keyword">override fun</span> <span class="function">onItemSelected</span>(
                parent: AdapterView&lt;*&gt;?,
                view: View?,
                position: Int,
                id: Long
            ) {
                <span class="keyword">val</span> paisSeleccionado = spinnerPais.selectedItem.toString()
                <span class="keyword">val</span> ciudadSeleccionada = parent?.getItemAtPosition(position).toString()
                
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: $ciudadSeleccionada, $paisSeleccionado"</span>
                
                <span class="comment">// â­ Guardar ciudad seleccionada</span>
                prefs.edit().putInt(<span class="string">"ciudad_seleccionada"</span>, position).apply()
            }
            
            <span class="keyword">override fun</span> <span class="function">onNothingSelected</span>(parent: AdapterView&lt;*&gt;?) {
                <span class="keyword">val</span> paisSeleccionado = spinnerPais.selectedItem.toString()
                tvUbicacion.text = <span class="string">"UbicaciÃ³n: $paisSeleccionado"</span>
            }
        }
    }
}</code></pre>
        </div>

        <div class="tips">
          <strong>ğŸ’¡ ExplicaciÃ³n del cÃ³digo de SharedPreferences:</strong>
          <ul style="margin-top: 10px;">
            <li><strong>getSharedPreferences("UbicacionPrefs", MODE_PRIVATE):</strong> Crea/abre archivo de preferencias privado</li>
            <li><strong>prefs.getInt("clave", valorPorDefecto):</strong> Lee un valor guardado (0 si no existe)</li>
            <li><strong>prefs.edit().putInt("clave", valor).apply():</strong> Guarda un valor de forma asÃ­ncrona</li>
            <li><strong>isFirstLoad:</strong> Flag para evitar sobrescribir la ciudad al cargar el paÃ­s guardado</li>
            <li><strong>setSelection(position):</strong> Establece el item seleccionado programÃ¡ticamente</li>
          </ul>
        </div>

        <div class="note">
          <strong>ğŸ¯ Flujo completo:</strong>
          <ol style="margin-top: 10px;">
            <li>App se abre â†’ Lee paÃ­s y ciudad guardados</li>
            <li>Usuario selecciona paÃ­s â†’ Se guarda automÃ¡ticamente</li>
            <li>Usuario selecciona ciudad â†’ Se guarda automÃ¡ticamente</li>
            <li>Usuario cierra la app</li>
            <li>Usuario vuelve a abrir â†’ Ve su Ãºltima selecciÃ³n âœ…</li>
          </ol>
        </div>

        <h3 style="margin-top: 40px;">ğŸ’» Ejemplo 3: Generar Array DinÃ¡micamente (AÃ±os)</h3>

        <div class="code-section">
          <h4>ğŸ“± Spinner con aÃ±os 1950-2024</h4>
          <pre><code class="kotlin"><span class="keyword">val</span> spinnerAnio = findViewById&lt;Spinner&gt;(R.id.spinnerAnio)

<span class="comment">// â­ Generar array de aÃ±os dinÃ¡micamente</span>
<span class="keyword">val</span> anios = (1950..2024).map { it.toString() }.toTypedArray()

<span class="keyword">val</span> adapter = ArrayAdapter(
    <span class="keyword">this</span>,
    android.R.layout.simple_spinner_item,
    anios
)
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)
spinnerAnio.adapter = adapter

<span class="comment">// Seleccionar 2000 por defecto</span>
<span class="keyword">val</span> posicion2000 = anios.indexOf(<span class="string">"2000"</span>)
spinnerAnio.setSelection(posicion2000)</code></pre>
        </div>

        <div class="exercise">
          <h4>âœï¸ Proyecto Final</h4>
          <p><strong>"Formulario de Registro Completo"</strong></p>
          <ul>
            <li>Spinner: PaÃ­s</li>
            <li>Spinner: Ciudad (dependiente del paÃ­s)</li>
            <li>Spinner: GÃ©nero</li>
            <li>Spinner: Mes de nacimiento</li>
            <li>Spinner: AÃ±o de nacimiento (generar dinÃ¡micamente 1950-2024)</li>
            <li>BotÃ³n "Registrar": Mostrar todos los datos en un AlertDialog</li>
            <li>Guardar preferencias con SharedPreferences</li>
          </ul>
        </div>
      </div>

      <!-- RESUMEN -->
      <div class="summary">
        <h2>ğŸ“š Resumen Completo</h2>
        <ul class="checklist">
          <li><strong>Spinner:</strong> Componente dropdown para selecciÃ³n Ãºnica</li>
          <li><strong>Layouts:</strong> simple_spinner_item y simple_spinner_dropdown_item</li>
          <li><strong>Datos:</strong> Hardcoded o desde arrays.xml</li>
          <li><strong>Evento:</strong> OnItemSelectedListener con onItemSelected()</li>
          <li><strong>IntegraciÃ³n:</strong> Filtrar ListView segÃºn Spinner</li>
          <li><strong>Avanzado:</strong> Spinners dependientes y SharedPreferences</li>
        </ul>

        <div style="background: white; padding: 20px; border-radius: 10px; margin-top: 30px;">
          <h3 style="color: #ff6a88;">Diferencias Clave: Spinner vs ListView</h3>
          <table class="comparison-table">
            <tr>
              <th>Aspecto</th>
              <th>Spinner</th>
              <th>ListView</th>
            </tr>
            <tr>
              <td>Items visibles</td>
              <td>1 (cerrado)</td>
              <td>MÃºltiples</td>
            </tr>
            <tr>
              <td>Espacio UI</td>
              <td>MÃ­nimo</td>
              <td>Grande</td>
            </tr>
            <tr>
              <td>SelecciÃ³n</td>
              <td>Ãšnica</td>
              <td>Ãšnica/MÃºltiple</td>
            </tr>
            <tr>
              <td>Uso principal</td>
              <td>Formularios</td>
              <td>Ver listas completas</td>
            </tr>
            <tr>
              <td>Listener</td>
              <td>OnItemSelectedListener</td>
              <td>OnItemClickListener</td>
            </tr>
          </table>
        </div>
      </div>

      <!-- RECURSOS -->
      <div class="resources">
        <h2>ğŸ“¦ Recursos Adicionales</h2>

        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; margin-top: 30px;">
          <h3>ğŸ”— Enlaces Ãštiles:</h3>
          <ul>
            <li><a href="https://developer.android.com/reference/android/widget/Spinner" style="color: white; text-decoration: underline;">DocumentaciÃ³n Oficial - Spinner</a></li>
            <li><a href="https://developer.android.com/guide/topics/ui/controls/spinner" style="color: white; text-decoration: underline;">Android Developers Guide - Spinner</a></li>
            <li><a href="https://kotlinlang.org/docs/home.html" style="color: white; text-decoration: underline;">Kotlin Documentation</a></li>
          </ul>
        </div>

        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid rgba(255,255,255,0.3);">
          <p style="font-size: 1.2em; margin-bottom: 10px;">Â¡Manual Completado! ğŸ‰</p>
          <p style="opacity: 0.7; margin-top: 20px;">Desarrollado con â¤ï¸ para estudiantes</p>
        </div>
      </div>
    </div>
  </body>
</html>
